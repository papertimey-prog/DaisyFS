<!DOCTYPE html>
<html lang="en" data-theme="cupcake">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <title>Daisy Reminders</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.7.2/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-base-200">

    <div class="max-w-md mx-auto p-6">
        <div class="flex items-center gap-4 mb-8">
            <img src="logo.svg" class="w-12 h-12" alt="Logo">
            <h1 class="text-3xl font-bold">Reminders</h1>
        </div>

        <div class="join w-full mb-6">
            <input id="taskInput" type="text" placeholder="What needs doing?" class="input input-bordered join-item w-full" />
            <button onclick="addTask()" class="btn btn-primary join-item">Add</button>
        </div>

        <div id="taskList" class="space-y-3">
            </div>
    </div>

    <script>
        // --- REMINDER LOGIC ---
        const taskList = document.getElementById('taskList');
        let savedTasks = JSON.parse(localStorage.getItem('myTasks') || '[]');

        function renderTasks() {
            taskList.innerHTML = savedTasks.map((t, i) => `
                <div class="card bg-base-100 shadow-sm border border-base-300">
                    <div class="card-body p-4 flex-row items-center justify-between">
                        <span class="text-lg">${t}</span>
                        <button onclick="deleteTask(${i})" class="btn btn-ghost btn-sm text-error">âœ•</button>
                    </div>
                </div>
            `).join('');
        }

        function addTask() {
            const input = document.getElementById('taskInput');
            if (!input.value) return;
            savedTasks.push(input.value);
            localStorage.setItem('myTasks', JSON.stringify(savedTasks));
            input.value = '';
            renderTasks();
        }

        function deleteTask(index) {
            savedTasks.splice(index, 1);
            localStorage.setItem('myTasks', JSON.stringify(savedTasks));
            renderTasks();
        }

        // --- SERVICE WORKER ---
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }

        renderTasks();
    </script>
</body>
</html>
